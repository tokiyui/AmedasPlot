<!DOCTYPE html>
<html>
<head>
  <title>METAR Data</title>
</head>
<body>
  <h1>METAR Data</h1>
  <table id="metar-table">
    <tr>
      <th>空港コード</th>
      <th>時刻</th>
      <th>視程</th>
    </tr>
  </table>

  <script>
    // METARデータを取得してテーブルに追加する関数
    function fetchAndAddMETARToTable() {
      const url = 'https://aviationweather.gov/cgi-bin/data/metar.php?ids=RJSN,RJNT,RJNW,RJNK';
      fetch(url)
        .then(response => response.text())
        .then(metarData => {
          const table = document.getElementById('metar-table');
          metarData.split('\n').forEach(line => {
            if (line.trim() !== '') {
              const parts = line.split(' ');
              const airportCode = parts[0];
              const time = parts[1];
              const visibility = parts[2];
              const row = table.insertRow();
              row.insertCell().textContent = airportCode;
              row.insertCell().textContent = time;
              row.insertCell().textContent = visibility;
            }
          });
        })
        .catch(error => {
          console.error('Error fetching METAR data:', error);
        });
    }

    // METARデータを取得してテーブルに追加
    fetchAndAddMETARToTable();
  </script>
</body>
</html>
