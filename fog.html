<!DOCTYPE html>
<html>
<head>
  <title>Aircraft METAR Data</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    function handleMetarData(data) {
      var metar = data.split("\n")[0]; // 最初の行のみを取得

      // METARデータの要素を分割
      var elements = metar.split(" ");
      var date = elements[0];
      var time = elements[1];
      var wind = elements[2];
      var visibility = elements[3];
      var clouds = elements[4];
      var temperature = elements[5];
      var pressure = elements[6];

      // HTMLに要素を表示
      $("#date").text("Date: " + date);
      $("#time").text("Time: " + time);
      $("#wind").text("Wind: " + wind);
      $("#visibility").text("Visibility: " + visibility);
      $("#clouds").text("Clouds: " + clouds);
      $("#temperature").text("Temperature: " + temperature);
      $("#pressure").text("Pressure: " + pressure);
    }
  </script>
</head>
<body>
  <h1>Aircraft METAR Data</h1>
  <div id="date"></div>
  <div id="time"></div>
  <div id="wind"></div>
  <div id="visibility"></div>
  <div id="clouds"></div>
  <div id="temperature"></div>
  <div id="pressure"></div>

  <script>
    $(document).ready(function() {
      $.ajax({
        url: "https://api.allorigins.win/raw?url=https://tgftp.nws.noaa.gov/data/observations/metar/stations/RJNK.TXT",
        dataType: "jsonp",
        jsonpCallback: "handleMetarData"
      });
    });
  </script>
</body>
</html>
